

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="Creeek">
    
    <meta name="description" content="Overview
We will be setting up a Ruby on Rails development environment on Mac OS X 10.10 Yosemite.
Installing Homebrew
First, we need to install Homeb">
    
    

    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Setup Ruby On Rails on Mac OS X | Creeek · Be a coder, Be a farmer</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css">

    <link rel="stylesheet" href="/css/style.css" type="text/css">


    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script> 
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://creeek.github.io" title="Creeek">Creeek</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                <p class="navbar-text pull-right">Be a coder, Be a farmer</p>

                <ul class="nav navbar-nav">
                    
                    <li id="nav-index"><a href="/">首页</a></li>
                    
                    <li id="nav-archives"><a href="/archives">归档</a></li>
                    
                    <li id="nav-tags"><a href="/tags">标签</a></li>
                    
                    <li id="nav-categories"><a href="/categories">分类</a></li>
                    
                    <li id="nav-curriculumvitae"><a href="/curriculumvitae">关于</a></li>
                    
                    <li id="nav-links"><a href="/links">链接</a></li>
                    
                    
                    <li><a href="https://github.com/creeek" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <script>
    var backRoot = "/images/background/";
    var backArray = [ "1.jpg", "2.jpg" ];
    //console.log(backArray);
        
    $(function() {
        // page-id...
        var pageId = "2014/07/13/setup-rails-on-osx/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";
        
        $("#nav-" + pageId).addClass("active");
    });
    </script>
    <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>Setup Ruby On Rails on Mac OS X</h1>
        
        <div class="time-info">
发表于:<time datetime="2014-07-13T12:46:25.000Z" itemprop="datePublished">2014年07月13日</time>,
更新于:<time datetime="2014-07-13T12:46:25.000Z" itemprop="dateModified">2014年07月13日</time>,
By <a href="http://creeek.github.io" title="Creeek">Creeek</a>
        </div>
        
        <div class="post-body-inner">
            <div id="toc" class="toc-article well">
                <strong class="toc-title">大纲</strong>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Overview"><span class="toc-number">1.</span> <span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installing_Homebrew"><span class="toc-number">2.</span> <span class="toc-text">Installing Homebrew</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installing_Ruby"><span class="toc-number">3.</span> <span class="toc-text">Installing Ruby</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install_RVM_with_a_Ruby:"><span class="toc-number">3.1.</span> <span class="toc-text">Install RVM with a Ruby:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改_RVM_的_Ruby_安装源到国内的_淘宝镜像服务器，这样能提高安装速度"><span class="toc-number">3.2.</span> <span class="toc-text">修改 RVM 的 Ruby 安装源到国内的 淘宝镜像服务器，这样能提高安装速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ruby的安装与切换"><span class="toc-number">3.3.</span> <span class="toc-text">ruby的安装与切换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gemset的使用"><span class="toc-number">3.4.</span> <span class="toc-text">gemset的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#项目自动加载gemset"><span class="toc-number">3.5.</span> <span class="toc-text">项目自动加载gemset</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installing_Rails"><span class="toc-number">4.</span> <span class="toc-text">Installing Rails</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configuring_Git"><span class="toc-number">5.</span> <span class="toc-text">Configuring Git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting_Up_A_Database"><span class="toc-number">6.</span> <span class="toc-text">Setting Up A Database</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL"><span class="toc-number">6.1.</span> <span class="toc-text">MySQL</span></a></li></ol></li></ol>
            </div>
            
            <h2 id="Overview">Overview</h2>
<p>We will be setting up a Ruby on Rails development environment on Mac OS X 10.10 Yosemite.</p>
<h2 id="Installing_Homebrew">Installing Homebrew</h2>
<p>First, we need to install <a href="http://brew.sh/" target="_blank" rel="external">Homebrew</a>. Homebrew allows us to install and compile software packages easily from source.<br>Homebrew comes with a very simple install script. When it asks you to install XCode CommandLine Tools, say yes.<br>Open Terminal and run the following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby <span class="operator">-e</span> <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></div></pre></td></tr></table></figure>

<h2 id="Installing_Ruby">Installing Ruby</h2>
<h3 id="Install_RVM_with_a_Ruby:">Install RVM with a Ruby:</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ curl -L get.rvm.io | bash <span class="operator">-s</span> stable</div><div class="line">$ <span class="built_in">source</span> ~/.bashrc</div><div class="line">$ <span class="built_in">source</span> ~/.bash_profile</div></pre></td></tr></table></figure>

<h3 id="修改_RVM_的_Ruby_安装源到国内的_淘宝镜像服务器，这样能提高安装速度">修改 RVM 的 Ruby 安装源到国内的 淘宝镜像服务器，这样能提高安装速度</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sed -i <span class="operator">-e</span> <span class="string">'s/ftp\.ruby-lang\.org\/pub\/ruby/ruby\.taobao\.org\/mirrors\/ruby/g'</span> ~/.rvm/config/db</div></pre></td></tr></table></figure>

<h3 id="ruby的安装与切换">ruby的安装与切换</h3>
<ul>
<li>列出已知的ruby版本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm list known</div></pre></td></tr></table></figure>

<ul>
<li>安装一个ruby版本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm install <span class="number">1.9</span>.<span class="number">3</span></div></pre></td></tr></table></figure>

<ul>
<li>使用一个ruby版本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm use <span class="number">1.9</span>.<span class="number">3</span></div></pre></td></tr></table></figure>

<p>如果想设置为默认版本，可以这样</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm use <span class="number">1.9</span>.<span class="number">3</span> --default</div></pre></td></tr></table></figure>

<ul>
<li>查询已经安装的ruby</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm list</div></pre></td></tr></table></figure>

<ul>
<li>卸载一个已安装版本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm remove <span class="number">1.9</span>.<span class="number">2</span></div></pre></td></tr></table></figure>

<h3 id="gemset的使用">gemset的使用</h3>
<ul>
<li>建立gemset</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rvm use <span class="number">1.9</span>.<span class="number">3</span></div><div class="line">rvm gemset create rails32</div></pre></td></tr></table></figure>

<ul>
<li>然后可以设定已建立的gemset做为当前环境</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rvm use <span class="number">1.9</span>.<span class="number">3</span></div><div class="line">rvm use <span class="number">1.9</span>.<span class="number">3</span>@rails32</div></pre></td></tr></table></figure>

<ul>
<li>列出当前ruby的gemset</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm gemset list</div></pre></td></tr></table></figure>

<ul>
<li>清空gemset中的gem</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm gemset empty <span class="number">1.9</span>.<span class="number">3</span>@rails32</div></pre></td></tr></table></figure>

<ul>
<li>删除一个gemset</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm gemset delete rails3-<span class="number">2</span></div></pre></td></tr></table></figure>

<h3 id="项目自动加载gemset">项目自动加载gemset</h3>
<p>进入到项目目录，建立一个.rvmrc文件。<br>在这个文件里可以很简单的加一个命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm use <span class="number">1.9</span>.<span class="number">3</span>@rails32</div></pre></td></tr></table></figure>

<h2 id="Installing_Rails">Installing Rails</h2>
<p>Installing Rails is as simple as running the following command in your Terminal:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gem install rails</div></pre></td></tr></table></figure>

<h2 id="Configuring_Git">Configuring Git</h2>
<p>Replace the example name and email address in the following steps with the ones you used for your Github account.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git config --global color.ui <span class="literal">true</span></div><div class="line">git config --global user.name <span class="string">"YOUR NAME"</span></div><div class="line">git config --global user.email <span class="string">"YOUR@EMAIL.com"</span></div><div class="line">ssh-keygen -t rsa -C <span class="string">"YOUR@EMAIL.com"</span></div></pre></td></tr></table></figure>

<p>The next step is to take the newly generated SSH key and add it to your Github account. You want to copy and paste the output of the following command and paste it <a href="https://github.com/settings/ssh" target="_blank" rel="external">here</a>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat ~/.ssh/id_rsa.pub</div></pre></td></tr></table></figure>

<p>Once you’ve done this, you can check and see if it worked:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -T git@github.com</div></pre></td></tr></table></figure>

<h2 id="Setting_Up_A_Database">Setting Up A Database</h2>
<p>Rails ships with sqlite3 as the default database. Chances are you won’t want to use it because it’s stored as a simple file on disk. You’ll probably want something more robust like MySQL or PostgreSQL.</p>
<h3 id="MySQL">MySQL</h3>
<p>You can install <a href="http://www.mysql.com/" target="_blank" rel="external">MySQL</a> server and client from Homebrew:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install mysql</div></pre></td></tr></table></figure>

<p>Once this command is finished, it gives you a couple commands to run. Follow the instructions and run them:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># To have launchd start mysql at login:</span></div><div class="line">ln -sfv /usr/local/opt/mysql/*plist ~/Library/LaunchAgents</div><div class="line"> </div><div class="line"><span class="comment"># Then to load mysql now:</span></div><div class="line">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</div></pre></td></tr></table></figure>

<p>By default the mysql user is root with no password.</p>

            
            <section class="comment">
	<div class="ds-thread"></div>
</section>

<script type="text/javascript">
  var duoshuoQuery = {short_name:"creeek"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 
        </div>
    </div>
</article>

    <footer id="footer">
        <div id="bottom-tip">
            <small>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with <a href="https://github.com/XadillaX/hexadillax" target="_blank">Hexadillax</a></small><br />
            <small>&copy; 2014 Creeek</small>
        </div>
    </footer>
</body>
</html>

